# NXP Simtemp Device Driver 

## Demo
**Video Demostration** [![Watch the Demo](https://img.youtube.com/vi/8hDAFOtXGXw/maxresdefault.jpg)](https://youtu.be/8hDAFOtXGXw)
**Git Repository:** [Project Source](https://github.com/rafaelmartinezr/nxp_simtemp)

## What is this?
This repo presents the implementation of a virtual device driver that simulates a temperature sensor producing periodic samples.
This iteration includes several configurable parameters that control the behavior of the simulation: from the sampling rate to the alert window of the threshold mechanism.

Additionally, a python CLI is provided to read the records generated by the device, and to test some basic functionality according to our requirements.

For further details of the implementation, design, and requirements, look at the docs directory :)

## Building and installing
```bash
    $ cd scripts
    $ ./build.sh [build]
    $ sudo ./build.sh install
``` 

This will install the module into the filesystem and create a new group for users of the device. Applying the new group policy requires login in again or starting a new login shell with:
```bash
    $ sudo su -l <YOUR_USER>
```

NOTE: The install command does not load the module into the kernel. For that, execute
```bash
    $ sudo modprobe nxp_simtemp
```
`modprobe`ing is possible because with the installation the module is now visible system-wide :O

You can also `insmod` directly from the `driver` directory

## Future work
- Implement statistics for the device
- Improve the CLI
- Test DTS in a QEMU environment
    - Or run in a physical board
- Implement a GUI to visualize the temperature readings
- Instrument the module to identify bottlenecks, measure, and improve performance
